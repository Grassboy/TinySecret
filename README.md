# 🔒 TinySecret

端對端加密的即時聊天應用，讓你安全地進行一對一私密對話。

## 🌟 特色

- **端對端加密**：使用 RSA-2048 + AES-256 混合加密，私鑰永不離開本地瀏覽器
- **完全匿名**：無需註冊，隨機生成房間ID
- **即時通訊**：WebSocket 即時雙向聊天
- **伺服器零知識**：伺服器只轉發密文，無法解密任何訊息
- **自動過期**：15分鐘無活動自動清除房間

## 📋 使用流程

1. **創建房間**：訪問網站並創建一個專屬加密聊天室
2. **分享連結**：將房間連結分享給對方
3. **對方加入**：對方訪問連結後自動生成金鑰並加入
4. **開始聊天**：雙方在加密聊天室中安全對話

## 🛠️ 技術架構

### 後端
- Node.js + Express
- Socket.io (WebSocket)
- nanoid (生成隨機ID)

### 前端
- 原生 JavaScript
- Web Crypto API (RSA-OAEP + AES-GCM 混合加密)
- Socket.io Client

## 🚀 安裝與運行

1. 安裝依賴：
```bash
npm install
```

2. 啟動服務器：
```bash
npm start
```

3. 開發模式（自動重啟）：
```bash
npm run dev
```

4. 訪問網站：
```
http://localhost:10359
```

## 🔐 安全性說明

### 加密機制
- **金鑰交換**：RSA-2048 + AES-256 混合加密保護公鑰交換
- **訊息加密**：每條訊息使用獨立的 AES-256 密鑰加密
- **雜湊函數**：SHA-256
- **私鑰保護**：私鑰儲存在瀏覽器 localStorage，永不傳輸到服務器

### 隱私保護
- 服務器只存儲加密後的公鑰，無法解密任何訊息
- 使用隨機ID作為房間和參與者識別
- 訊息加密後經 WebSocket 轉發，服務器無法解密

### 注意事項
- 清除瀏覽器資料會遺失私鑰
- 房間15分鐘無活動自動過期
- 建議用於臨時性的私密對話

## 📁 專案結構

```
TinySecret/
├── server.js           # Express + Socket.io 服務器
├── package.json        # 專案配置
├── README.md          # 說明文件
└── public/            # 靜態文件
    ├── index.html     # 首頁
    ├── room.html      # 房間頁面
    ├── chat.html      # 聊天頁面
    ├── styles.css     # 樣式表
    ├── crypto.js      # 加密工具函數
    ├── room.js        # 房間邏輯
    └── chat.js        # 聊天邏輯
```

## 🎯 使用場景

- 一對一加密即時通訊
- 分享敏感資訊（密碼、私鑰、地址等）
- 匿名環境下的安全對話
- 臨時性的私密訊息交換

## ⚠️ 限制

- 需要現代瀏覽器支援 Web Crypto API
- 私鑰遺失無法恢復
- 房間過期後無法繼續對話

## 📝 License

MIT

